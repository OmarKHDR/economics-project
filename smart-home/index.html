<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Smart Home Dashboard</title>
	<link rel="stylesheet" href="../assets/css/common.css">
	<link rel="stylesheet" href="style.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<body class="light-mode">
	<div class="container">
		<header>
			<h1>Smart Home Dashboard</h1>
			<div class="header-controls">
				<div id="user-info" class="user-info">
					<!-- User info will be populated by JS -->
				</div>
				<div class="theme-toggle">
					<i class="fas fa-moon"></i>
					<label class="switch">
						<input type="checkbox" id="theme-toggle">
						<span class="slider round"></span>
					</label>
					<i class="fas fa-sun"></i>
				</div>
			</div>
		</header>

		<div class="alerts-panel">
			<h2>Recent Alerts</h2>
			<div class="empty-state">
				<i class="fas fa-bell-slash"></i>
				<p>No alerts at this time.</p>
				<p>Your home systems are running normally.</p>
			</div>
		</div>

		<h2>Home Sensors</h2>
		<div class="dashboard-grid">
			<div class="sensor-card">
				<div class="sensor-icon">
					<i class="fas fa-thermometer-half"></i>
				</div>
				<div class="sensor-info">
					<h3>Temperature</h3>
					<div class="sensor-value">24Â°C</div>
					<div class="sensor-status status-normal">Normal</div>
				</div>
			</div>

			<div class="sensor-card">
				<div class="sensor-icon">
					<i class="fas fa-tint"></i>
				</div>
				<div class="sensor-info">
					<h3>Humidity</h3>
					<div class="sensor-value">45%</div>
					<div class="sensor-status status-normal">Normal</div>
				</div>
			</div>

			<div class="sensor-card">
				<div class="sensor-icon">
					<i class="fas fa-lightbulb"></i>
				</div>
				<div class="sensor-info">
					<h3>Lighting</h3>
					<div class="sensor-value">3 Active</div>
					<div class="sensor-status status-normal">Normal</div>
				</div>
			</div>

			<div class="sensor-card">
				<div class="sensor-icon">
					<i class="fas fa-door-closed"></i>
				</div>
				<div class="sensor-info">
					<h3>Door Status</h3>
					<div class="sensor-value">Closed</div>
					<div class="sensor-status status-normal">Secured</div>
				</div>
			</div>

			<div class="sensor-card">
				<div class="sensor-icon">
					<i class="fas fa-wind"></i>
				</div>
				<div class="sensor-info">
					<h3>Air Quality</h3>
					<div class="sensor-value">Good</div>
					<div class="sensor-status status-normal">Normal</div>
				</div>
			</div>

			<div class="sensor-card">
				<div class="sensor-icon">
					<i class="fas fa-bolt"></i>
				</div>
				<div class="sensor-info">
					<h3>Power Usage</h3>
					<div class="sensor-value">2.4 kW</div>
					<div class="sensor-status status-normal">Normal</div>
				</div>
			</div>
		</div>
	</div>

	<script src="../assets/js/auth.js"></script>
	<script src="main.js"></script>
	<script>
		document.addEventListener('DOMContentLoaded', function () {
			// Check if user is logged in
			if (!isLoggedIn()) {
				window.location.href = '../index.html';
				return;
			}

			// Check if the user has home user role
			const user = getCurrentUser();
			if (user.role !== 'home_user') {
				alert('You do not have permission to access this page.');
				window.location.href = '../dashboard.html';
				return;
			}
		});
	</script>
</body>

</html>